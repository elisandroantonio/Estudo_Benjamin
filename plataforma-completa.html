<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>üéÆ Plataforma de Estudos - Geografia</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; width: 100%; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .header h1 { font-size: 1.6rem; margin-bottom: 5px; }
        
        .stats-bar {
            display: flex;
            justify-content: space-around;
            background: rgba(255,255,255,0.1);
            padding: 10px;
            color: white;
            font-weight: 600;
            border-bottom: 2px solid rgba(255,255,255,0.2);
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            color: #ffd700;
        }
        
        .nav-tabs {
            display: flex;
            gap: 5px;
            padding: 10px;
            background: white;
            overflow-x: auto;
            border-bottom: 2px solid #e0e0e0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .nav-btn {
            padding: 10px 15px;
            background: #f0f0f0;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            white-space: nowrap;
            transition: all 0.3s;
            color: #666;
        }
        
        .nav-btn:hover { background: #e0e0e0; }
        
        .nav-btn.ativo {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        .content {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            background: #f5f7fa;
        }
        
        .secao { display: none; }
        .secao.ativo { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-top: 4px solid #667eea;
        }
        
        .card h2 {
            color: #667eea;
            margin-bottom: 15px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        
        .card h3 {
            color: #764ba2;
            margin-top: 15px;
            margin-bottom: 10px;
        }
        
        .card p { line-height: 1.7; margin-bottom: 10px; }
        .card ul, .card ol { margin-left: 20px; margin-bottom: 10px; }
        .card li { margin-bottom: 8px; }
        
        .imagem-resumo {
            width: 100%;
            max-width: 400px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .imagem-resumo:hover { transform: scale(1.05); }
        
        .quiz-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 12px;
            border-left: 4px solid #667eea;
        }
        
        .quiz-item p { margin-bottom: 10px; font-weight: 600; }
        
        .quiz-options { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
        
        .quiz-btn {
            padding: 8px 12px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }
        
        .quiz-btn:hover { background: #764ba2; }
        
        .quiz-btn.correto { background: #27ae60; }
        .quiz-btn.errado { background: #e74c3c; }
        
        .flashcard {
            background: white;
            border: 2px solid #667eea;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 12px;
            cursor: pointer;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            transition: all 0.3s;
            font-weight: 600;
            color: #333;
        }
        
        .flashcard:hover { transform: scale(1.02); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        
        .flashcard.virado {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .vf-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 12px;
            border: 2px solid #667eea;
            cursor: pointer;
            transition: all 0.3s;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .vf-item:hover { transform: scale(1.02); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        
        .vf-item.virado {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: #764ba2;
        }
        
        .vf-item p { margin-bottom: 10px; font-weight: 600; }
        
        .vf-buttons { display: flex; gap: 8px; }
        
        .vf-btn {
            flex: 1;
            padding: 8px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .vf-true { background: #27ae60; color: white; }
        .vf-false { background: #e74c3c; color: white; }
        
        .vf-true:hover { background: #229954; }
        .vf-false:hover { background: #c0392b; }
        
        .resposta-vf {
            margin-top: 10px;
            padding: 10px;
            background: #e8f5e9;
            border-radius: 4px;
            color: #27ae60;
            font-weight: 600;
            display: none;
        }
        
        .badge {
            display: inline-block;
            background: #ffd700;
            color: #333;
            padding: 8px 12px;
            border-radius: 20px;
            margin: 5px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .pontos-ganhos {
            display: inline-block;
            background: #27ae60;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            margin-left: 10px;
            font-weight: 600;
            animation: popUp 0.5s;
        }
        
        @keyframes popUp {
            0% { transform: scale(0.5); opacity: 0; }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .tesouro-header {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            text-align: center;
            color: #333;
            font-weight: 600;
        }
        
        .tesouro-progress {
            display: flex;
            justify-content: space-around;
            margin-bottom: 15px;
        }
        
        .tesouro-step {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 1.5rem;
            background: #e0e0e0;
            color: #666;
        }
        
        .tesouro-step.ativo {
            background: #667eea;
            color: white;
            animation: pulse 1s infinite;
        }
        
        .tesouro-step.completo {
            background: #27ae60;
            color: white;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .tesouro-encontrado {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            padding: 30px;
            border-radius: 8px;
            text-align: center;
            animation: bounce 0.5s;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .tesouro-encontrado h3 {
            font-size: 2rem;
            color: #333;
            margin-bottom: 10px;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
        }
        
        .modal.ativo { display: flex; align-items: center; justify-content: center; }
        
        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            right: 15px;
            top: 15px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #667eea;
        }
        
        .close-modal:hover { color: #764ba2; }
        
        .explicacao-box {
            background: #f0f8ff;
            border-left: 4px solid #667eea;
            padding: 12px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 0.95rem;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <h1>üéÆ Plataforma de Estudos</h1>
            <p>Geografia 6¬∫ Ano - Estude e Ganhe Pontos! üèÜ</p>
        </div>

        <div class="stats-bar">
            <div class="stat-item">
                <div>‚≠ê Pontos</div>
                <div class="stat-value" id="pontos">0</div>
            </div>
            <div class="stat-item">
                <div>üèÜ N√≠vel</div>
                <div class="stat-value" id="nivel">1</div>
            </div>
            <div class="stat-item">
                <div>üéØ Acertos</div>
                <div class="stat-value" id="acertos">0</div>
            </div>
            <div class="stat-item">
                <div>üî• Sequ√™ncia</div>
                <div class="stat-value" id="sequencia">0</div>
            </div>
        </div>

        <div class="nav-tabs">
            <button class="nav-btn ativo" onclick="mostrarSecao('resumo')">üìñ Resumo</button>
            <button class="nav-btn" onclick="mostrarSecao('quizzes')">üéØ Quizzes</button>
            <button class="nav-btn" onclick="mostrarSecao('vf')">‚úÖ V/F</button>
            <button class="nav-btn" onclick="mostrarSecao('flashcards')">üé¥ Flashcards</button>
            <button class="nav-btn" onclick="mostrarSecao('badges')">üèÖ Badges</button>
            <button class="nav-btn" onclick="mostrarSecao('tesouro')">üó∫Ô∏è Tesouro</button>
            <button class="nav-btn" onclick="mostrarSecao('memoria')">üß† Mem√≥ria</button>
        </div>

        <div class="content">
            <div id="resumo" class="secao ativo">
                <div class="card">
                    <h2>üìñ Resumo Completo de Geografia</h2>
                    
                    <h3>üèîÔ∏è TIPOS DE RELEVO</h3>
                    <p>O relevo √© a forma da superf√≠cie terrestre. Existem 4 tipos principais:</p>
                    <ul>
                        <li><strong>Plan√≠cies:</strong> Terrenos planos e baixos, pr√≥ximos ao n√≠vel do mar</li>
                        <li><strong>Planaltos:</strong> Terrenos elevados e planos no topo</li>
                        <li><strong>Montanhas:</strong> Terrenos muito elevados e acidentados</li>
                        <li><strong>Depress√µes:</strong> Terrenos baixos entre eleva√ß√µes</li>
                    </ul>
                    <img src="/public/images/IMG_3676.jpeg" alt="Tipos de Relevo" class="imagem-resumo" onclick="abrirImageModal(this.src)">
                    
                    <h3>üå§Ô∏è CAMADAS DA ATMOSFERA</h3>
                    <p>A atmosfera √© dividida em 5 camadas principais:</p>
                    <ul>
                        <li><strong>Troposfera (0-12 km):</strong> Onde vivemos, fen√¥menos meteorol√≥gicos</li>
                        <li><strong>Estratosfera (12-50 km):</strong> Cont√©m camada de oz√¥nio</li>
                        <li><strong>Mesosfera (50-85 km):</strong> Mais fria, meteoritos se queimam</li>
                        <li><strong>Termosfera (85-500 km):</strong> Muito quente, auroras</li>
                        <li><strong>Exosfera (>500 km):</strong> Transi√ß√£o para o espa√ßo</li>
                    </ul>
                    <img src="/public/images/IMG_3679.jpeg" alt="Camadas da Atmosfera" class="imagem-resumo" onclick="abrirImageModal(this.src)">
                    
                    <h3>‚òÄÔ∏è BALAN√áO DE ENERGIA</h3>
                    <p>Equil√≠brio entre radia√ß√£o solar que entra e radia√ß√£o que sai do planeta:</p>
                    <ul>
                        <li>üìä 30% √© REFLETIDA de volta ao espa√ßo (albedo)</li>
                        <li>üìä 70% √© ABSORVIDA pela atmosfera e superf√≠cie</li>
                    </ul>
                    <img src="/public/images/IMG_3680.jpeg" alt="Balan√ßo de Energia" class="imagem-resumo" onclick="abrirImageModal(this.src)">
                    
                    <h3>üå°Ô∏è EFEITO ESTUFA</h3>
                    <p>Processo onde gases atmosf√©ricos ret√™m o calor da Terra:</p>
                    <ul>
                        <li>üí® Di√≥xido de Carbono (CO‚ÇÇ) - Combust√≠veis f√≥sseis</li>
                        <li>üí® Metano (CH‚ÇÑ) - Pecu√°ria</li>
                        <li>üí® √ìxido Nitroso (N‚ÇÇO) - Fertilizantes</li>
                    </ul>
                    <img src="/public/images/IMG_3681.jpeg" alt="Efeito Estufa" class="imagem-resumo" onclick="abrirImageModal(this.src)">
                    
                    <h3>üí® MASSAS DE AR</h3>
                    <p>Grande volume de ar com caracter√≠sticas semelhantes de temperatura e umidade.</p>
                    <p><strong>Frentes de Ar:</strong></p>
                    <ul>
                        <li>üîµ Frente Fria: Ar frio avan√ßa</li>
                        <li>üî¥ Frente Quente: Ar quente avan√ßa</li>
                    </ul>
                    <img src="/public/images/IMG_3677.jpeg" alt="Massas de Ar" class="imagem-resumo" onclick="abrirImageModal(this.src)">
                    
                    <h3>üåç ZONAS T√âRMICAS</h3>
                    <ul>
                        <li><strong>Intertropical:</strong> Muito quente, entre os tr√≥picos</li>
                        <li><strong>Temperada:</strong> Esta√ß√µes bem definidas</li>
                        <li><strong>Polar:</strong> Muito fria</li>
                    </ul>
                    
                    <h3>üåä TIPOS DE CLIMA</h3>
                    <p>Classifica√ß√£o dos climas baseada em temperatura e precipita√ß√£o em diferentes regi√µes do planeta.</p>
                </div>
            </div>

            <div id="quizzes" class="secao">
                <div class="card">
                    <h2>üéØ Quizzes (40 Perguntas)</h2>
                    <div id="quizzes-container"></div>
                </div>
            </div>

            <div id="vf" class="secao">
                <div class="card">
                    <h2>‚úÖ Verdadeiro/Falso (40 Quest√µes)</h2>
                    <div id="vf-container"></div>
                </div>
            </div>

            <div id="flashcards" class="secao">
                <div class="card">
                    <h2>üé¥ Flashcards</h2>
                    <p style="margin-bottom: 15px; color: #666;">Clique para virar</p>
                    <div id="flashcards-container"></div>
                </div>
            </div>

            <div id="badges" class="secao">
                <div class="card">
                    <h2>üèÖ Badges Conquistadas</h2>
                    <div id="badges-container"></div>
                </div>
            </div>

            <div id="tesouro" class="secao">
                <div class="card">
                    <h2>üó∫Ô∏è Ca√ßa ao Tesouro</h2>
                    <p style="margin-bottom: 15px; color: #666; font-weight: 600;">Acerte 3 perguntas seguidas para encontrar o tesouro! üíé</p>
                    <div id="tesouro-container"></div>
                </div>
            </div>

            <div id="memoria" class="secao">
                <div class="card">
                    <h2>üß† Jogo da Mem√≥ria</h2>
                    <p style="margin-bottom: 15px; color: #666; font-weight: 600;">Encontre os pares de conceitos e defini√ß√µes! üéØ</p>
                    <div style="margin-bottom: 15px;">
                        <button class="quiz-btn" onclick="iniciarMemoria()" style="width: 100%; padding: 12px; font-size: 1rem;">Iniciar Jogo</button>
                    </div>
                    <div id="memoria-stats" style="display: flex; gap: 15px; margin-bottom: 15px; justify-content: center;">
                        <div style="text-align: center;">
                            <div style="color: #667eea; font-weight: 600;">Pares</div>
                            <div style="font-size: 1.3rem; font-weight: 600;" id="memoria-pares">0/8</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="color: #667eea; font-weight: 600;">Tentativas</div>
                            <div style="font-size: 1.3rem; font-weight: 600;" id="memoria-tentativas">0</div>
                        </div>
                    </div>
                    <div id="memoria-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="imageModal" class="modal" onclick="fecharImageModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <span class="close-modal" onclick="fecharImageModal()">&times;</span>
            <img id="modalImage" src="" alt="" style="width: 100%; border-radius: 8px;">
        </div>
    </div>

    <script>
        // DADOS DO JOGADOR
        let jogador = {
            pontos: 0,
            nivel: 1,
            acertos: 0,
            sequencia: 0,
            badges: []
        };

        // QUEST√ïES V/F COM EXPLICA√á√ïES
        const questoesVF = [
            { texto: 'Os agentes externos transformam o relevo de forma lenta e cont√≠nua.', resposta: true, pontos: 5, explicacao: 'Correto! Agentes como chuva, vento e mar atuam lentamente ao longo do tempo.' },
            { texto: 'Os agentes internos atuam na superf√≠cie da Terra.', resposta: false, pontos: 5, explicacao: 'Errado! Agentes internos (vulcanismo, tectonismo) atuam no interior da Terra.' },
            { texto: 'O vulcanismo √© um agente end√≥geno.', resposta: true, pontos: 5, explicacao: 'Correto! Vulcanismo √© um agente end√≥geno (interno) que modifica o relevo.' },
            { texto: 'A chuva √© um agente end√≥geno.', resposta: false, pontos: 5, explicacao: 'Errado! Chuva √© um agente ex√≥geno (externo) que atua na superf√≠cie.' },
            { texto: '30% da radia√ß√£o solar √© refletida de volta ao espa√ßo.', resposta: true, pontos: 8, explicacao: 'Correto! 30% √© refletida (albedo) e 70% √© absorvida pela Terra.' },
            { texto: '70% da radia√ß√£o solar √© absorvida pela Terra.', resposta: true, pontos: 8, explicacao: 'Correto! 70% da radia√ß√£o √© absorvida e 30% √© refletida de volta.' },
            { texto: 'O efeito estufa √© causado principalmente pelo oz√¥nio.', resposta: false, pontos: 8, explicacao: 'Errado! Efeito estufa √© causado por CO2, metano e outros gases, n√£o oz√¥nio.' },
            { texto: 'A troposfera √© a camada onde vivemos.', resposta: true, pontos: 5, explicacao: 'Correto! Troposfera √© a camada mais pr√≥xima da Terra onde ocorrem fen√¥menos meteorol√≥gicos.' },
            { texto: 'A estratosfera cont√©m a camada de oz√¥nio.', resposta: true, pontos: 5, explicacao: 'Correto! Estratosfera cont√©m a camada de oz√¥nio que nos protege dos raios UV.' },
            { texto: 'A mesosfera √© a camada mais quente da atmosfera.', resposta: false, pontos: 5, explicacao: 'Errado! Mesosfera √© a mais fria. Termosfera √© a mais quente.' },
            { texto: 'A termosfera tem temperatura muito alta.', resposta: true, pontos: 5, explicacao: 'Correto! Termosfera tem temperaturas muito altas, acima de 1000¬∞C.' },
            { texto: 'A exosfera √© a transi√ß√£o entre a atmosfera e o espa√ßo.', resposta: true, pontos: 5, explicacao: 'Correto! Exosfera √© a camada mais externa, transi√ß√£o para o espa√ßo sideral.' },
            { texto: 'Uma massa de ar √© um pequeno volume de ar.', resposta: false, pontos: 5, explicacao: 'Errado! Massa de ar √© um GRANDE volume de ar com caracter√≠sticas semelhantes.' },
            { texto: 'As frentes de ar causam mudan√ßas bruscas de tempo.', resposta: true, pontos: 5, explicacao: 'Correto! Encontro de massas de ar diferentes causa mudan√ßas bruscas de tempo.' },
            { texto: 'O vento forma dunas no deserto.', resposta: true, pontos: 5, explicacao: 'Correto! Vento √© um agente externo que transporta areia e forma dunas.' },
            { texto: 'O mar modifica o litoral.', resposta: true, pontos: 5, explicacao: 'Correto! Ondas e mar√©s modificam o litoral atrav√©s de eros√£o e deposi√ß√£o.' },
            { texto: 'O intemperismo √© um agente interno.', resposta: false, pontos: 5, explicacao: 'Errado! Intemperismo √© um agente externo que desintegra rochas.' },
            { texto: 'As auroras boreais ocorrem na termosfera.', resposta: true, pontos: 5, explicacao: 'Correto! Auroras boreais ocorrem na termosfera, causadas por part√≠culas solares.' },
            { texto: 'Os meteoritos se queimam na mesosfera.', resposta: true, pontos: 5, explicacao: 'Correto! Meteoritos se queimam na mesosfera ao entrar na atmosfera.' },
            { texto: 'O di√≥xido de carbono √© um g√°s de efeito estufa.', resposta: true, pontos: 8, explicacao: 'Correto! CO2 √© o principal g√°s de efeito estufa produzido pelo homem.' },
            { texto: 'O tectonismo causa terremotos e tsunamis.', resposta: true, pontos: 5, explicacao: 'Correto! Tectonismo (movimento de placas) causa terremotos e tsunamis.' },
            { texto: 'O balan√ßo de energia √© o equil√≠brio entre radia√ß√£o que entra e sai.', resposta: true, pontos: 8, explicacao: 'Correto! Balan√ßo de energia mant√©m a temperatura do planeta em equil√≠brio.' },
            { texto: 'O albedo √© a capacidade de uma superf√≠cie refletir radia√ß√£o solar.', resposta: true, pontos: 8, explicacao: 'Correto! Albedo √© a capacidade de refletir radia√ß√£o. Gelo tem alto albedo.' },
            { texto: 'O gelo tem menor albedo que o oceano.', resposta: false, pontos: 8, explicacao: 'Errado! Gelo tem MAIOR albedo (reflete mais) que o oceano.' },
            { texto: 'A Terra emite radia√ß√£o infravermelha.', resposta: true, pontos: 8, explicacao: 'Correto! Terra aquecida emite radia√ß√£o infravermelha que gases de estufa ret√™m.' },
            { texto: 'O desequil√≠brio energ√©tico causa aquecimento global.', resposta: true, pontos: 8, explicacao: 'Correto! Quando mais energia entra que sai, ocorre aquecimento global.' },
            { texto: 'Nuvens aumentam o albedo do planeta.', resposta: true, pontos: 8, explicacao: 'Correto! Nuvens refletem radia√ß√£o solar, aumentando o albedo.' },
            { texto: 'A radia√ß√£o solar infravermelha √© refletida pela atmosfera.', resposta: false, pontos: 8, explicacao: 'Errado! Radia√ß√£o solar √© vis√≠vel. Infravermelho √© emitido pela Terra.' },
            { texto: 'O metano √© liberado pela pecu√°ria.', resposta: true, pontos: 8, explicacao: 'Correto! Gado produz metano, um g√°s de efeito estufa potente.' },
            { texto: 'O efeito estufa √© totalmente prejudicial.', resposta: false, pontos: 8, explicacao: 'Errado! Efeito estufa natural √© essencial. O problema √© sua intensifica√ß√£o.' },
            { texto: 'A queima√ß√£o de combust√≠veis f√≥sseis libera CO2.', resposta: true, pontos: 8, explicacao: 'Correto! Combust√≠veis f√≥sseis liberam CO2, principal g√°s de efeito estufa.' },
            { texto: 'O efeito estufa intensifica o aquecimento global.', resposta: true, pontos: 8, explicacao: 'Correto! Aumento de gases de estufa intensifica o aquecimento global.' },
            { texto: 'O √≥xido nitroso vem dos fertilizantes agr√≠colas.', resposta: true, pontos: 8, explicacao: 'Correto! Fertilizantes liberam N2O, um g√°s de efeito estufa.' },
            { texto: 'O efeito estufa n√£o existe na natureza.', resposta: false, pontos: 8, explicacao: 'Errado! Efeito estufa natural existe e √© essencial para a vida.' },
            { texto: 'Gases de efeito estufa ret√™m calor na atmosfera.', resposta: true, pontos: 8, explicacao: 'Correto! Esses gases ret√™m radia√ß√£o infravermelha, aquecendo a atmosfera.' },
            { texto: 'Fen√¥menos meteorol√≥gicos ocorrem na estratosfera.', resposta: false, pontos: 5, explicacao: 'Errado! Fen√¥menos meteorol√≥gicos ocorrem na troposfera.' },
            { texto: 'Frente fria √© quando ar frio avan√ßa sobre ar quente.', resposta: true, pontos: 5, explicacao: 'Correto! Frente fria: ar frio avan√ßa sobre ar quente, causando chuva.' },
            { texto: 'Frente quente √© quando ar quente avan√ßa sobre ar frio.', resposta: true, pontos: 5, explicacao: 'Correto! Frente quente: ar quente avan√ßa sobre ar frio.' },
            { texto: 'Massas de ar t√™m caracter√≠sticas semelhantes de temperatura e umidade.', resposta: true, pontos: 5, explicacao: 'Correto! Massas de ar t√™m caracter√≠sticas homog√™neas de T e umidade.' },
            { texto: 'A zona intertropical √© muito quente.', resposta: true, pontos: 5, explicacao: 'Correto! Zona intertropical recebe mais radia√ß√£o solar, √© muito quente.' },
            { texto: 'A zona polar √© muito fria.', resposta: true, pontos: 5, explicacao: 'Correto! Zona polar recebe menos radia√ß√£o solar, √© muito fria.' },
            { texto: 'A zona temperada tem esta√ß√µes bem definidas.', resposta: true, pontos: 5, explicacao: 'Correto! Zona temperada tem esta√ß√µes bem definidas (primavera, ver√£o, outono, inverno).' },
            { texto: 'Existem apenas 2 zonas clim√°ticas principais.', resposta: false, pontos: 5, explicacao: 'Errado! Existem 3 zonas clim√°ticas principais: intertropical, temperada e polar.' }
        ];

        // DADOS COMPLETOS
        const quizzes = [
            { pergunta: 'Os agentes externos transformam o relevo de forma:', opcoes: ['Violenta e r√°pida', 'Lenta e cont√≠nua', 'Muito r√°pida', 'N√£o transformam'], resposta: 1, pontos: 10 },
            { pergunta: 'Os agentes internos atuam no:', opcoes: ['Superf√≠cie da Terra', 'Interior da Terra', 'Oceano', 'Atmosfera'], resposta: 1, pontos: 10 },
            { pergunta: 'Qual √© um agente externo?', opcoes: ['Vulcanismo', 'Tectonismo', 'Chuva', 'Magmatismo'], resposta: 2, pontos: 10 },
            { pergunta: 'Qual √© um agente interno?', opcoes: ['Vento', 'Gelo', 'Intemperismo', 'Vulcanismo'], resposta: 3, pontos: 10 },
            { pergunta: 'O intemperismo √©:', opcoes: ['Agente interno', 'Agente externo', 'Tipo de rocha', 'Tipo de clima'], resposta: 1, pontos: 10 },
            { pergunta: 'Qual agente externo forma dunas?', opcoes: ['Chuva', 'Vento', 'Gelo', 'Mar'], resposta: 1, pontos: 10 },
            { pergunta: 'Qual agente externo modifica o litoral?', opcoes: ['Vento', 'Gelo', 'Mar', 'Chuva'], resposta: 2, pontos: 10 },
            { pergunta: 'O vulcanismo √© um agente:', opcoes: ['Externo', 'Interno', 'Clim√°tico', 'Atmosf√©rico'], resposta: 1, pontos: 10 },
            { pergunta: 'Qual percentual da radia√ß√£o solar √© refletida?', opcoes: ['70%', '50%', '30%', '10%'], resposta: 2, pontos: 15 },
            { pergunta: 'Qual percentual da radia√ß√£o solar √© absorvida?', opcoes: ['30%', '50%', '70%', '90%'], resposta: 2, pontos: 15 },
            { pergunta: 'O que √© o Balan√ßo de Energia?', opcoes: ['Temperatura do planeta', 'Equil√≠brio entre radia√ß√£o que entra e sai', 'Movimento das placas', 'Ciclo da √°gua'], resposta: 1, pontos: 15 },
            { pergunta: 'O que √© Albedo?', opcoes: ['Tipo de rocha', 'Capacidade de refletir radia√ß√£o solar', 'G√°s atmosf√©rico', 'Camada da atmosfera'], resposta: 1, pontos: 15 },
            { pergunta: 'Qual superf√≠cie tem maior albedo?', opcoes: ['Oceano', 'Gelo e nuvens', 'Floresta', 'Areia do deserto'], resposta: 1, pontos: 15 },
            { pergunta: 'Quando o balan√ßo de energia √© alterado, ocorre:', opcoes: ['Chuva', 'Aquecimento ou resfriamento do planeta', 'Terremotos', 'Vulc√µes'], resposta: 1, pontos: 15 },
            { pergunta: 'A radia√ß√£o infravermelha √© emitida por:', opcoes: ['O Sol', 'A Terra aquecida', 'As nuvens', 'Os vulc√µes'], resposta: 1, pontos: 15 },
            { pergunta: 'O que ret√©m o calor na atmosfera?', opcoes: ['Nuvens', 'Gases de efeito estufa', 'Oz√¥nio', '√Ågua'], resposta: 1, pontos: 15 },
            { pergunta: 'Qual g√°s √© principal causador do efeito estufa?', opcoes: ['Oxig√™nio', 'Nitrog√™nio', 'Di√≥xido de Carbono', 'Arg√¥nio'], resposta: 2, pontos: 15 },
            { pergunta: 'O efeito estufa √© causado principalmente por:', opcoes: ['Vulc√µes', 'Queima√ß√£o de combust√≠veis f√≥sseis', 'Chuva', 'Vento'], resposta: 1, pontos: 15 },
            { pergunta: 'Qual g√°s √© liberado pela pecu√°ria?', opcoes: ['CO‚ÇÇ', 'Metano', 'Oz√¥nio', 'Nitrog√™nio'], resposta: 1, pontos: 15 },
            { pergunta: 'O efeito estufa √©:', opcoes: ['Prejudicial sempre', 'Natural, mas intensificado pela a√ß√£o humana', 'Causado apenas por vulc√µes', 'Inexistente'], resposta: 1, pontos: 15 },
            { pergunta: 'Qual √© a camada mais pr√≥xima da Terra?', opcoes: ['Estratosfera', 'Troposfera', 'Mesosfera', 'Termosfera'], resposta: 1, pontos: 10 },
            { pergunta: 'Qual camada cont√©m a camada de oz√¥nio?', opcoes: ['Troposfera', 'Estratosfera', 'Mesosfera', 'Termosfera'], resposta: 1, pontos: 10 },
            { pergunta: 'Qual √© a camada mais fria?', opcoes: ['Troposfera', 'Estratosfera', 'Mesosfera', 'Termosfera'], resposta: 2, pontos: 10 },
            { pergunta: 'Qual √© a camada mais quente?', opcoes: ['Troposfera', 'Estratosfera', 'Mesosfera', 'Termosfera'], resposta: 3, pontos: 10 },
            { pergunta: 'Onde ocorrem fen√¥menos meteorol√≥gicos?', opcoes: ['Estratosfera', 'Troposfera', 'Mesosfera', 'Termosfera'], resposta: 1, pontos: 10 },
            { pergunta: 'Qual camada tem auroras boreais?', opcoes: ['Estratosfera', 'Mesosfera', 'Termosfera', 'Exosfera'], resposta: 2, pontos: 10 },
            { pergunta: 'Qual camada os meteoritos se queimam?', opcoes: ['Estratosfera', 'Mesosfera', 'Termosfera', 'Exosfera'], resposta: 1, pontos: 10 },
            { pergunta: 'A Exosfera √© a transi√ß√£o para:', opcoes: ['Oceano', 'Continente', 'Espa√ßo sideral', 'Manto terrestre'], resposta: 2, pontos: 10 },
            { pergunta: 'O que √© uma massa de ar?', opcoes: ['Um furac√£o', 'Grande volume de ar com caracter√≠sticas semelhantes', 'Uma nuvem', 'Um tornado'], resposta: 1, pontos: 10 },
            { pergunta: 'O que √© uma frente de ar?', opcoes: ['Vento forte', 'Encontro de massas de ar', 'Nuvem', 'Tempestade'], resposta: 1, pontos: 10 },
            { pergunta: 'Frente fria √© quando:', opcoes: ['Ar quente avan√ßa', 'Ar frio avan√ßa sobre ar quente', 'N√£o h√° movimento', 'H√° chuva'], resposta: 1, pontos: 10 },
            { pergunta: 'Frente quente √© quando:', opcoes: ['Ar frio avan√ßa', 'Ar quente avan√ßa sobre ar frio', 'N√£o h√° movimento', 'H√° vento'], resposta: 1, pontos: 10 },
            { pergunta: 'As frentes de ar causam:', opcoes: ['Paz', 'Mudan√ßas bruscas de tempo', 'Nada', 'Apenas frio'], resposta: 1, pontos: 10 },
            { pergunta: 'Quantas zonas clim√°ticas principais existem?', opcoes: ['2', '3', '4', '5'], resposta: 1, pontos: 10 },
            { pergunta: 'A zona intertropical √©:', opcoes: ['Muito fria', 'Muito quente', 'Temperada', 'Vari√°vel'], resposta: 1, pontos: 10 },
            { pergunta: 'A zona polar √©:', opcoes: ['Muito quente', 'Temperada', 'Muito fria', '√ömida'], resposta: 2, pontos: 10 },
            { pergunta: 'A zona temperada √©:', opcoes: ['Muito quente', 'Muito fria', 'Com esta√ß√µes bem definidas', 'Sempre igual'], resposta: 2, pontos: 10 },
            { pergunta: 'Qual √© a principal consequ√™ncia do desequil√≠brio energ√©tico?', opcoes: ['Chuvas √°cidas', 'Aquecimento global', 'Terremotos', 'Tsunamis'], resposta: 1, pontos: 15 },
            { pergunta: 'O di√≥xido de carbono vem principalmente de:', opcoes: ['Oceanos', 'Florestas', 'Queima√ß√£o de combust√≠veis f√≥sseis', 'Chuva'], resposta: 2, pontos: 15 },
            { pergunta: 'O metano √© liberado por:', opcoes: ['F√°bricas', 'Pecu√°ria e lixo', 'Chuva', 'Vento'], resposta: 1, pontos: 15 }
        ];

        const flashcards = [
            { pergunta: 'O que s√£o agentes externos?', resposta: 'Agentes que atuam na superf√≠cie e transformam o relevo de forma lenta e cont√≠nua' },
            { pergunta: 'O que s√£o agentes internos?', resposta: 'Agentes que atuam no interior e transformam o relevo de forma violenta e r√°pida' },

        const badgesDisponiveis = [
            { id: 'iniciante', nome: 'üåü Iniciante', descricao: 'Ganhe 100 pontos', requisito: 100 },
            { id: 'estudioso', nome: 'üìö Estudioso', descricao: 'Acerte 10 quest√µes', requisito: 10 },
            { id: 'campeao', nome: 'üèÜ Campe√£o', descricao: 'Ganhe 500 pontos', requisito: 500 },
            { id: 'mestre', nome: 'üëë Mestre', descricao: 'Acerte 30 quest√µes', requisito: 30 },
            { id: 'sequencia', nome: 'üî• Sequ√™ncia', descricao: 'Acerte 5 seguidas', requisito: 5 }
        ];

        function mostrarSecao(secaoId) {
            document.querySelectorAll('.secao').forEach(s => s.classList.remove('ativo'));
            document.getElementById(secaoId).classList.add('ativo');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('ativo'));
            event.target.classList.add('ativo');
            
            if (secaoId === 'quizzes') carregarQuizzes();
            if (secaoId === 'vf') carregarVF();
            if (secaoId === 'flashcards') carregarFlashcards();
            if (secaoId === 'badges') carregarBadges();
            if (secaoId === 'tesouro') carregarTesouro();
            if (secaoId === 'memoria') iniciarMemoria();
        }

        function carregarQuizzes() {
            const container = document.getElementById('quizzes-container');
            container.innerHTML = quizzes.map((q, i) => `
                <div class="quiz-item">
                    <p>Pergunta ${i+1}: ${q.pergunta}</p>
                    <div class="quiz-options">
                        ${q.opcoes.map((op, j) => `
                            <button class="quiz-btn" onclick="verificarQuiz(${i}, ${j})">${String.fromCharCode(65+j)}) ${op}</button>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function verificarQuiz(quizIndex, respostaIndex) {
            const quiz = quizzes[quizIndex];
            if (respostaIndex === quiz.resposta) {
                adicionarPontos(quiz.pontos);
                jogador.acertos++;
                jogador.sequencia++;
                alert(`‚úÖ Correto! +${quiz.pontos} pontos`);
            } else {
                jogador.sequencia = 0;
                alert(`‚ùå Errado! A resposta correta √©: ${String.fromCharCode(65+quiz.resposta)}) ${quiz.opcoes[quiz.resposta]}`);
            }
            verificarBadges();
            atualizarStats();
        }

        let vfState = {};
        
        function carregarVF() {
            const container = document.getElementById('vf-container');
            container.innerHTML = questoesVF.map((q, i) => `
                <div class="vf-item" id="vf-${i}" onclick="virarVF(${i})">
                    <div>${q.texto}</div>
                </div>
            `).join('');
        }
        
        function virarVF(index) {
            const questao = questoesVF[index];
            const element = document.getElementById(`vf-${index}`);
            
            if (!vfState[index]) {
                vfState[index] = { virado: false, respondido: false };
            }
            
            if (!vfState[index].virado && !vfState[index].respondido) {
                element.classList.add('virado');
                element.style.minHeight = '150px';
                element.innerHTML = `
                    <div style="width: 100%;">
                        <div style="margin-bottom: 15px; font-size: 0.95rem; font-weight: 600;">${questao.texto}</div>
                        <div class="vf-buttons">
                            <button class="vf-btn vf-true" onclick="responderVF(${index}, true, ${questao.pontos})">‚úÖ Verdadeiro</button>
                            <button class="vf-btn vf-false" onclick="responderVF(${index}, false, ${questao.pontos})">‚ùå Falso</button>
                        </div>
                    </div>
                `;
                vfState[index].virado = true;
            } else if (vfState[index].respondido) {
                element.classList.remove('virado');
                element.style.minHeight = '100px';
                element.innerHTML = `<div>${questao.texto}</div>`;
                vfState[index].virado = false;
                vfState[index].respondido = false;
            }
        }
        
        function responderVF(index, resposta, pontos) {
            const questao = questoesVF[index];
            const element = document.getElementById(`vf-${index}`);
            
            if (resposta === questao.resposta) {
                adicionarPontos(pontos);
                jogador.acertos++;
                jogador.sequencia++;
                element.innerHTML = `
                    <div style="width: 100%;">
                        <div style="margin-bottom: 10px; font-size: 0.95rem; font-weight: 600;">${questao.texto}</div>
                        <div style="font-size: 1.1rem; font-weight: 600; margin: 10px 0; color: #27ae60;">‚úÖ CORRETO!</div>
                        <div style="font-size: 0.9rem; opacity: 0.9; margin-bottom: 10px;">+${pontos} pontos!</div>
                        <div class="explicacao-box">${questao.explicacao}</div>
                    </div>
                `;
                element.style.background = '#e8f5e9';
                element.style.borderColor = '#27ae60';
            } else {
                jogador.sequencia = 0;
                element.innerHTML = `
                    <div style="width: 100%;">
                        <div style="margin-bottom: 10px; font-size: 0.95rem; font-weight: 600;">${questao.texto}</div>
                        <div style="font-size: 1.1rem; font-weight: 600; margin: 10px 0; color: #e74c3c;">‚ùå ERRADO!</div>
                        <div style="font-size: 0.9rem; opacity: 0.9; margin-bottom: 10px;">Resposta correta: ${questao.resposta ? 'Verdadeiro' : 'Falso'}</div>
                        <div class="explicacao-box">${questao.explicacao}</div>
                    </div>
                `;
                element.style.background = '#fadbd8';
                element.style.borderColor = '#e74c3c';
            }
            
            vfState[index].respondido = true;
            verificarBadges();
            atualizarStats();
        }

        function carregarFlashcards() {
            const container = document.getElementById('flashcards-container');
            container.innerHTML = flashcards.map((fc, i) => `
                <div class="flashcard" onclick="virarFlashcard(this, ${i})">
                    <div>${fc.pergunta}</div>
                </div>
            `).join('');
        }

        function virarFlashcard(element, index) {
            const fc = flashcards[index];
            if (element.classList.contains('virado')) {
                element.innerHTML = `<div>${fc.pergunta}</div>`;
                element.classList.remove('virado');
            } else {
                element.innerHTML = `<div>${fc.resposta}</div>`;
                element.classList.add('virado');
            }
        }

        function carregarBadges() {
            const container = document.getElementById('badges-container');
            if (jogador.badges.length === 0) {
                container.innerHTML = '<p>Estude mais para conquistar badges! üéØ</p>';
            } else {
                container.innerHTML = jogador.badges.map(b => `<div class="badge">${b.nome}</div>`).join('');
            }
        }

        function adicionarPontos(pontos) {
            jogador.pontos += pontos;
            if (jogador.pontos >= jogador.nivel * 100) {
                jogador.nivel++;
            }
        }

        function verificarBadges() {
            badgesDisponiveis.forEach(badge => {
                if (!jogador.badges.find(b => b.id === badge.id)) {
                    let conquistado = false;
                    if (badge.id === 'iniciante' && jogador.pontos >= 100) conquistado = true;
                    if (badge.id === 'estudioso' && jogador.acertos >= 10) conquistado = true;
                    if (badge.id === 'campeao' && jogador.pontos >= 500) conquistado = true;
                    if (badge.id === 'mestre' && jogador.acertos >= 30) conquistado = true;
                    if (badge.id === 'sequencia' && jogador.sequencia >= 5) conquistado = true;
                    
                    if (conquistado) {
                        jogador.badges.push(badge);
                        alert(`üèÖ Novo Badge Conquistado: ${badge.nome}!`);
                    }
                }
            });
        }

        function atualizarStats() {
            document.getElementById('pontos').textContent = jogador.pontos;
            document.getElementById('nivel').textContent = jogador.nivel;
            document.getElementById('acertos').textContent = jogador.acertos;
            document.getElementById('sequencia').textContent = jogador.sequencia;
        }

        function abrirImageModal(src) {
            document.getElementById('imageModal').classList.add('ativo');
            document.getElementById('modalImage').src = src;
        }

        function fecharImageModal() {
            document.getElementById('imageModal').classList.remove('ativo');
        }

        // Dados do Tesouro
        let tesouroState = {
            acertosConsecutivos: 0,
            perguntaAtual: 0,
            tesouroEncontrado: false,
            perguntasUsadas: []
        };

        const perguntasTesouro = quizzes.map(q => ({ pergunta: q.pergunta, opcoes: q.opcoes, resposta: q.resposta, pontos: 50 }));

        function carregarTesouro() {
            if (tesouroState.tesouroEncontrado) {
                document.getElementById('tesouro-container').innerHTML = `
                    <div class="tesouro-encontrado">
                        <h3>üíé TESOURO ENCONTRADO! üíé</h3>
                        <p>Parab√©ns! Voc√™ encontrou o tesouro!</p>
                        <p style="font-size: 1.2rem; margin-top: 10px;">+500 PONTOS B√îNUS!</p>
                        <button class="quiz-btn" onclick="reiniciarTesouro()" style="margin-top: 15px;">üîÑ Tentar Novamente</button>
                    </div>
                `;
                return;
            }

            const container = document.getElementById('tesouro-container');
            container.innerHTML = `
                <div class="tesouro-header">üó∫Ô∏è Acertos Consecutivos: ${tesouroState.acertosConsecutivos}/3</div>
                <div class="tesouro-progress">
                    <div class="tesouro-step ${tesouroState.acertosConsecutivos >= 1 ? 'completo' : ''} ${tesouroState.acertosConsecutivos === 1 && !tesouroState.tesouroEncontrado ? 'ativo' : ''}">1Ô∏è‚É£</div>
                    <div class="tesouro-step ${tesouroState.acertosConsecutivos >= 2 ? 'completo' : ''} ${tesouroState.acertosConsecutivos === 2 && !tesouroState.tesouroEncontrado ? 'ativo' : ''}">2Ô∏è‚É£</div>
                    <div class="tesouro-step ${tesouroState.acertosConsecutivos >= 3 ? 'completo' : ''} ${tesouroState.acertosConsecutivos === 3 && !tesouroState.tesouroEncontrado ? 'ativo' : ''}">3Ô∏è‚É£</div>
                </div>
                <div id="pergunta-tesouro"></div>
            `;

            carregarPerguntaTesouro();
        }

        function carregarPerguntaTesouro() {
            if (tesouroState.perguntasUsadas.length === perguntasTesouro.length) {
                tesouroState.perguntasUsadas = [];
            }

            let perguntaIndex;
            do {
                perguntaIndex = Math.floor(Math.random() * perguntasTesouro.length);
            } while (tesouroState.perguntasUsadas.includes(perguntaIndex));

            tesouroState.perguntasUsadas.push(perguntaIndex);
            const pergunta = perguntasTesouro[perguntaIndex];
            tesouroState.perguntaAtual = perguntaIndex;

            const container = document.getElementById('pergunta-tesouro');
            container.innerHTML = `
                <div class="quiz-item">
                    <p>üéØ ${pergunta.pergunta}</p>
                    <div class="quiz-options">
                        ${pergunta.opcoes.map((op, j) => `
                            <button class="quiz-btn" onclick="verificarTesouro(${j})">${String.fromCharCode(65+j)}) ${op}</button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function verificarTesouro(respostaIndex) {
            const pergunta = perguntasTesouro[tesouroState.perguntaAtual];
            if (respostaIndex === pergunta.resposta) {
                tesouroState.acertosConsecutivos++;
                adicionarPontos(pergunta.pontos);
                jogador.acertos++;
                atualizarStats();

                if (tesouroState.acertosConsecutivos >= 3) {
                    tesouroState.tesouroEncontrado = true;
                    adicionarPontos(500);
                    atualizarStats();
                    alert('üéâ TESOURO ENCONTRADO! +500 PONTOS B√îNUS!');
                } else {
                    alert(`‚úÖ Correto! +${pergunta.pontos} pontos\nAcertos: ${tesouroState.acertosConsecutivos}/3`);
                }
                carregarTesouro();
            } else {
                tesouroState.acertosConsecutivos = 0;
                alert(`‚ùå Errado! Sequ√™ncia zerada. Tente novamente!`);
                carregarTesouro();
            }
        }

        function reiniciarTesouro() {
            tesouroState.acertosConsecutivos = 0;
            tesouroState.perguntaAtual = 0;
            tesouroState.tesouroEncontrado = false;
            tesouroState.perguntasUsadas = [];
            carregarTesouro();
        }

        // JOGO DA MEM√ìRIA
        const paresMemoria = [
            { conceito: 'Agentes Externos', definicao: 'Transformam relevo de forma lenta' },
            { conceito: 'Agentes Internos', definicao: 'Transformam relevo de forma violenta' },
            { conceito: 'Balan√ßo de Energia', definicao: 'Equil√≠brio entre radia√ß√£o que entra e sai' },
            { conceito: 'Efeito Estufa', definicao: 'Gases ret√™m calor na atmosfera' },
            { conceito: 'Troposfera', definicao: 'Camada onde vivemos' },
            { conceito: 'Estratosfera', definicao: 'Cont√©m camada de oz√¥nio' },
            { conceito: 'Massas de Ar', definicao: 'Grande volume de ar com caracter√≠sticas semelhantes' },
            { conceito: 'Frente de Ar', definicao: 'Encontro de massas de ar diferentes' }
        ];

        let memoriaState = {
            cartas: [],
            viradas: [],
            pares: 0,
            tentativas: 0,
            bloqueado: false
        };

        function iniciarMemoria() {
            memoriaState = {
                cartas: [],
                viradas: [],
                pares: 0,
                tentativas: 0,
                bloqueado: false
            };

            // Criar array com todos os pares
            let todasAsCartas = [];
            paresMemoria.forEach((par, index) => {
                todasAsCartas.push({ id: index, tipo: 'conceito', texto: par.conceito });
                todasAsCartas.push({ id: index, tipo: 'definicao', texto: par.definicao });
            });

            // Embaralhar
            memoriaState.cartas = todasAsCartas.sort(() => Math.random() - 0.5);

            renderizarMemoria();
        }

        function renderizarMemoria() {
            const container = document.getElementById('memoria-container');
            container.innerHTML = memoriaState.cartas.map((carta, index) => `
                <div class="carta-memoria" id="carta-${index}" onclick="clicarCarta(${index})" style="
                    width: 100%;
                    aspect-ratio: 1;
                    background: ${memoriaState.viradas[index] && memoriaState.viradas[index].encontrada ? '#27ae60' : '#667eea'};
                    border: 2px solid #764ba2;
                    border-radius: 8px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    cursor: ${memoriaState.viradas[index] && memoriaState.viradas[index].encontrada ? 'default' : 'pointer'};
                    font-weight: 600;
                    color: white;
                    text-align: center;
                    padding: 10px;
                    font-size: 0.85rem;
                    transition: all 0.3s;
                    transform: ${memoriaState.viradas[index] ? 'rotateY(180deg)' : 'rotateY(0deg)'};
                    perspective: 1000px;
                    opacity: ${memoriaState.viradas[index] && memoriaState.viradas[index].encontrada ? 0.6 : 1};
                ">
                    ${memoriaState.viradas[index] ? memoriaState.viradas[index].texto : '?'}
                </div>
            `).join('');

            document.getElementById('memoria-pares').textContent = `${memoriaState.pares}/8`;
            document.getElementById('memoria-tentativas').textContent = memoriaState.tentativas;
        }

        function clicarCarta(index) {
            if (memoriaState.bloqueado) return;
            if (memoriaState.viradas[index]) return;
            if (memoriaState.viradas.filter(v => v && !v.encontrada).length >= 2) return;

            memoriaState.viradas[index] = {
                texto: memoriaState.cartas[index].texto,
                encontrada: false,
                id: memoriaState.cartas[index].id,
                tipo: memoriaState.cartas[index].tipo
            };

            renderizarMemoria();

            const viradas = memoriaState.viradas.filter(v => v && !v.encontrada);
            if (viradas.length === 2) {
                memoriaState.tentativas++;
                memoriaState.bloqueado = true;

                if (viradas[0].id === viradas[1].id && viradas[0].tipo !== viradas[1].tipo) {
                    // Acertou!
                    setTimeout(() => {
                        memoriaState.viradas.forEach((v, i) => {
                            if (v && v.id === viradas[0].id) {
                                v.encontrada = true;
                            }
                        });
                        memoriaState.pares++;
                        memoriaState.bloqueado = false;
                        renderizarMemoria();

                        if (memoriaState.pares === 8) {
                            adicionarPontos(200);
                            atualizarStats();
                            alert(`üéâ PARAB√âNS! Voc√™ encontrou todos os pares!\n+200 pontos!\nTentativas: ${memoriaState.tentativas}`);
                        }
                    }, 500);
                } else {
                    // Errou
                    setTimeout(() => {
                        memoriaState.viradas = memoriaState.viradas.map((v, i) => {
                            if (v && !v.encontrada) return null;
                            return v;
                        });
                        memoriaState.bloqueado = false;
                        renderizarMemoria();
                    }, 1000);
                }
            }
        }

        // Inicializar
        carregarQuizzes();
    </script>
</body>
</html>
